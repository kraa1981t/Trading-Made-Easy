<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Section Details | Trading Made Easy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        .details-hero {
            padding: 6rem 0 3rem;
            text-align: center;
            background: linear-gradient(135deg, rgba(var(--primary-rgb), 0.1) 0%, rgba(45, 55, 72, 0.05) 100%);
        }

        .details-content {
            padding: 4rem 0;
            min-height: 50vh;
        }

        .unique-grid {
            display: grid;
            gap: 2rem;
            margin-top: 2rem;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .signal-box {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .service-card-detail {
            border: 1px solid var(--border-color);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            transition: 0.3s;
        }

        .about-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
        }

        @media(max-width: 768px) {
            .about-layout {
                grid-template-columns: 1fr;
            }
        }

        .skill-bar {
            background: var(--border-color);
            height: 10px;
            border-radius: 5px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .skill-fill {
            height: 100%;
            background: var(--primary-color);
        }
    </style>
</head>

<body>
    <header>
        <div class="nav-container">
            <div class="nav-left">
                <nav class="nav-menu">
                    <a href="index.html" class="nav-link" id="nav-link-home" data-i18n="nav_home">Home</a>
                    <a href="section-details.html?section=bots" class="nav-link" id="nav-link-bots"
                        data-i18n="nav_bots">MT5 Bots</a>
                    <a href="section-details.html?section=signals" class="nav-link" id="nav-link-signals"
                        data-i18n="nav_signals">Signals</a>
                    <a href="section-details.html?section=services" class="nav-link" id="nav-link-services"
                        data-i18n="nav_services">Services</a>
                    <a href="section-details.html?section=about" class="nav-link" id="nav-link-about"
                        data-i18n="nav_about">About</a>
                    <a href="section-details.html?section=contact" class="nav-link" id="nav-link-contact"
                        data-i18n="nav_contact">Contact</a>
                </nav>
            </div>
            <div class="nav-controls" style="margin-left:auto; display:flex; align-items:center; gap:1.5rem;">
                <div class="site-title" style="order:2;"><a href="index.html"
                        style="color:var(--primary-color);">Trading Made Easy</a></div>
                <div class="controls-wrapper" style="order:1; display:flex; gap:0.5rem; align-items:center;">
                    <button class="back-btn" onclick="history.back()"
                        style="background:none; border:none; color:var(--text-color); cursor:pointer; display:flex; align-items:center; gap:0.5rem;">
                        <i class="fas fa-arrow-left"></i> <span data-i18n="text_back">Back</span>
                    </button>
                    <select class="lang-select">
                        <option value="en">English</option>
                        <option value="ar">العربية</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <div id="dynamic-content"></div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const section = params.get('section') || 'bots';
            const firebaseConfig = {
                apiKey: "AIzaSyCvMayEuNTlQ5CWbjrrqw3aft_H044-uQM",
                authDomain: "trading-made-easy-e8450.firebaseapp.com",
                projectId: "trading-made-easy-e8450",
                databaseURL: "https://trading-made-easy-e8450-default-rtdb.firebaseio.com/",
                storageBucket: "trading-made-easy-e8450.firebasestorage.app",
                messagingSenderId: "693217251684",
                appId: "1:693217251684:web:f27779dc51e21fabceaa71"
            };
            if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
            const db = firebase.database();

            // Real-time site config sync
            db.ref('site_config').on('value', snap => {
                if (snap.val()) {
                    localStorage.setItem('tme_config_v3', JSON.stringify(snap.val()));
                    if (typeof applySiteSettings === 'function') applySiteSettings();
                }
            });

            function render() {
                const lang = localStorage.getItem('language') || 'en';
                const container = document.getElementById('dynamic-content');
                const t = translations[lang];

                let title = '', desc = '', html = '';
                if (section === 'bots') {
                    title = t.bots_section_title; desc = t.hero_subtitle;
                    html = `<div id="bot-area" class="unique-grid">Loading...</div>`;
                } else if (section === 'signals') {
                    title = t.signals_title; desc = t.sig_prec_desc;
                    html = `<div class="signals-layout"><div class="signal-box"><i class="fas fa-chart-line fa-2x" style="color:var(--primary-color)"></i><div><h3>${t.sig_feat1}</h3><p>${t.sig_prec_desc}</p></div></div></div>`;
                }

                container.innerHTML = `<section class="details-hero"><h1>${title}</h1><p>${desc}</p></section><section class="details-content"><div class="container">${html}</div></section>`;

                if (section === 'bots') {
                    db.ref('products').on('value', snap => {
                        const products = Object.values(snap.val() || {});
                        document.getElementById('bot-area').innerHTML = products.map((p, i) => `
                            <div class="bot-card">
                                <img src="${p.image}" style="width:100%; height:200px; object-fit:cover;">
                                <div class="bot-content">
                                    <h3>${p.title}</h3>
                                    <p>${p.desc}</p>
                                    <a href="checkout.html?name=${encodeURIComponent(p.title)}&price=${p.price}" class="btn btn-primary" style="display:block; text-align:center; margin-top:1rem;">${t.buy_btn} - $${p.price}</a>
                                </div>
                            </div>
                        `).join('');
                    });
                }
                if (typeof applySiteSettings === 'function') applySiteSettings();
            }

            render();
            window.addEventListener('languageChanged', render);
        });
    </script>
</body>

</html>