<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout | Trading Made Easy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .checkout-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .payment-option {
            border: 2px solid var(--border-color);
            padding: 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            margin-bottom: 1rem;
        }

        .payment-option.selected {
            border-color: var(--primary-color);
            background: rgba(var(--primary-rgb), 0.05);
        }
    </style>
</head>

<body>
    <header>
        <div class="nav-container">
            <div class="site-title"><a href="index.html" style="color:var(--primary-color);">Trading Made Easy</a></div>
            <div style="display:flex; gap:1rem; align-items:center;">
                <button onclick="history.back()"
                    style="background:none; border:none; color:var(--text-color); cursor:pointer;"><i
                        class="fas fa-arrow-left"></i> <span data-i18n="text_back">Back</span></button>
                <select class="lang-select">
                    <option value="en">English</option>
                    <option value="ar">العربية</option>
                </select>
            </div>
        </div>
    </header>

    <div class="checkout-container">
        <h1 data-i18n="checkout_title">Complete Purchase</h1>
        <div id="order-summary" style="margin: 2rem 0; padding: 1rem; border-bottom: 1px solid var(--border-color);">
            <h3 data-i18n="order_summary">Order Summary</h3>
            <p id="product-name" style="font-size: 1.2rem; font-weight: bold;"></p>
            <p id="product-price" style="color: var(--primary-color); font-size: 1.5rem;"></p>
        </div>

        <h3 data-i18n="select_payment">Select Payment</h3>
        <div class="payment-methods">
            <div class="payment-option" onclick="selectPay('usdt')">
                <i class="fab fa-ethereum"></i> USDT (TRC20)
            </div>
            <div class="payment-option" onclick="selectPay('ltc')">
                <i class="fas fa-coins"></i> Litecoin (LTC)
            </div>
        </div>

        <div id="pay-instructions"
            style="display:none; margin-top:2rem; padding:1.5rem; background:var(--bg-color); border-radius:10px;">
            <p id="pay-text"></p>
            <code id="wallet-addr"
                style="display:block; padding:1rem; background:#000; color:#00D09C; margin:1rem 0; word-break:break-all;"></code>
            <button class="btn btn-primary" onclick="alert('Verifying...')"><i class="fas fa-search-dollar"></i> <span
                    data-i18n="btn_verify">Verify</span></button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        document.getElementById('product-name').textContent = params.get('name') || 'Trading Bot';
        document.getElementById('product-price').textContent = '$' + (params.get('price') || '0');

        function selectPay(method) {
            document.querySelectorAll('.payment-option').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            document.getElementById('pay-instructions').style.display = 'block';

            const cfg = getLatestConfig();
            const wallets = cfg.wallets || { usdt: 'TRC20_WALLET_HERE', ltc: 'LTC_WALLET_HERE' };

            document.getElementById('wallet-addr').textContent = method === 'usdt' ? wallets.usdt : wallets.ltc;
            document.getElementById('pay-text').textContent = method === 'usdt' ? translations[document.documentElement.lang].pay_usdt_inst : translations[document.documentElement.lang].pay_ltc_inst;
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (typeof applySiteSettings === 'function') applySiteSettings();
        });
    </script>
</body>

</html>